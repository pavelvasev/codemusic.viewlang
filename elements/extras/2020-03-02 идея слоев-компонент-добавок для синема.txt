Берем и говорим что унас теперь не шейдеры, а добавки.
Которые вот можно добавлять.

Сообразно есть менеджер добавок, shaderconfig в девичестве.
И вот там юзер может галочками подобавлять. Ну они свое гуи
на панели выкидывают, понятно дело.

И там не только шейдеры, а пожалуйста лампочки, или еще что.

Самое главное - это мне научиться делать композицию добавок.
А именно, у меня есть
- сцена
- суперсцена.

И вот я мучился, как мне их шейдеры сочесть. Чтобы когда просто сцену
открываем - оно показывало ее шейдеры-добавки. А когда в суперсцене,
то чтобы не показывало. 

Теперь же я думаю следующее. Когда суперсцена загружает сцену,
у нас формируется новая добавка - активировать возможности добавки
суб-сцены. Эта добавка появляется в суперсцене. Активировали - хлобысь,
там появилась возможность добавлять.
А пока не активировали, она не появилась. И это нам позволит работать
с добавками на уровне суперсцены, а если хотим - заходить внутрь.

*****
Теперь дальше. Получается у сцены появляется параметр - активные добавки.
И уже ответственность сцены (пусть  так будет) распихать их куда надо,
например как шейдеры провести к своим.

****
Таким образом. Я сейчас добавляю новый слой в свою систему - задаваемая
внешним образом переменная "рекомендуемые внешние добавки". И дальше я это
прокидываю во все vis. В дополнение к тому что у нас уже есть, плюсом к их шейдерам
локальным.

Кстати параллельно - я хотел чтобы был раздел shaders, который бы определялся
на уровне сцены для всех vis-объектов. Но это апарте.

Итак. Вот у сцены внешние добавки - ок. Мы их в сцене юзаем.
Потом в сцене - свои добавки. Собственные. И они кстати могут повторять те глобальные,
ну частично или полностью. Потому что мало ли я захочу только в этой сцене что-то поменять.
Ну и т.п. Таким образом, появляются собственные добавки. Но которые дезактивируются,
если загружена суперсцена. Но можно активировать - если суперсцена позволит
(она пусть выставляет особую пропертю с названием "можно").

... мне тут кажется что я что-то не учитываю или не гибко делаю, но пока пофиг. Хоть как-то
надо сделать.

Итак. Есть свои extras. И есть в сцене пусть будет интерфейс гуи по управлению этим экстрас.
Этот интерфейс отрубается, если что, если мы не главные. Но врубается, если разрешили.
И кроме extras, есть еще external_extras - которые нам предписывают повиноваться.
Итого мы уже учитываем - то что идет в external_extras и то что выдал нам наш гуи в нашем extras.
(тут только путаница - наш extras это список потенциальных добавок.. и надо дополнительно
еще уметь его профильтровать, выбрать те что выбрал пользователь, и свалить уже в кучу).

Итого СПИСОК_ДОБАВОК_СЦЕНЫ = ВНЕШНИЕ+СОБСТВЕнННЫЯ (хаха, офигеть формула).
Причем собственные - порождаются генератором, ориентирвоанным на пользователя, и который отключаемый.
Ну и плюс, сюда, в этот список добавок, может еще какие-то добавятся. Не знаю, там, от программы или еще от чего.

Вот, модель, пожалуйста.
Можно программировать.


*****
Короче сделал я такую модель добавок. Вроде даже робит.

Однако, в синема-1 получилось что еще пришлось добавить 2 класса - отслеживатель выключения экстров на вьюшках,
и потом еще включатель их обратно. Ну ладно, потом мы с этими экстрами разберемся и может упростится.

Замечаю, что мне захочется в extras указать набор готовых объектов, которым пользователь будет например выставлять
галочку, которая будет вести в enabled и visible. Таким образом, мне будет удобно. И кстати таким образом я туда
просто передам мендежеров подчиненных сцен.. ну или ладно, вобщем посмотрим.

Еще кстати замечаю, что тема extras получилась размазана.
elements/extras
public.src/ExtraManager, qmldir, и konv3 -- ну это общая болезть кстати
управление extra в qml-файлах cinema1
добавка этого управления в cm-файле cinema1